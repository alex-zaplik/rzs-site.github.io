<script>
    function dropdown(element) {
        var dropdowns = element.parentNode.parentNode.getElementsByClassName('dropdown_content');

        var i;
        for (i = 0; i < dropdowns.length; i++) {
            var drop = dropdowns[i];
            if (element.parentNode == dropdowns[i].parentNode && !drop.classList.contains('show')) {
                dropdowns[i].classList.add('show');
            } else if (drop.classList.contains('show')) {
                dropdowns[i].classList.remove('show');
            }
        }
    }

    window.onclick = function(event) {
        if (!event.target.matches('.dropdown_button')) {
            var dropdowns = document.getElementsByClassName('dropdown_content');

            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var open = dropdowns[i];
                if (open.classList.contains('show')) {
                    open.classList.remove('show');
                }
            }
        }
    }
</script>

<nav class="main_nav">
    {% for item in site.data.main_list.toc %}
        {% if item.subfolderitems %}
        <div class="dropdown">
            <button class="dropdown_button" onclick="dropdown(this)">{{ item.title }}</button>
            <div class="dropdown_content">
                {% for entry in item.subfolderitems %}
                    <a href="{{ site.baseurl }}/{{ entry.url }}">{{ entry.page }}</a>
                {% endfor %}
            </div>
        </div>
        {% else %}
            <a class="sigle_button" href="{{ site.baseurl }}/{{ item.url }}">{{ item.title }}</a>
        {% endif %}
    {% endfor %}
</nav>
